<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.2" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.0.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  
  <meta name="keywords" content="Hexo, NexT" />


<meta property="og:type" content="website">
<meta property="og:title" content="JerryChu&#39;s Blog">
<meta property="og:url" content="http://jerrychu.github.io/index.html">
<meta property="og:site_name" content="JerryChu&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JerryChu&#39;s Blog">






  <link rel="canonical" href="http://jerrychu.github.io/"/>


  <title>JerryChu's Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JerryChu's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-home"></i> <br />é¦–é¡µ</a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />æ ‡ç­¾</a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />å½’æ¡£</a>
        </li>
      

      
    </ul>
  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jerrychu.github.io/2018/06/03/WWDC-travel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JerryChu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JerryChu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/03/WWDC-travel/" itemprop="url">WWDCç¬”è®°ï¼ˆå‡ºè¡Œç¯‡ï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-04T08:57:23+08:00">2018-06-04</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="é—¨ç¥¨-amp-ç­¾è¯"><a href="#é—¨ç¥¨-amp-ç­¾è¯" class="headerlink" title="é—¨ç¥¨ &amp; ç­¾è¯"></a>é—¨ç¥¨ &amp; ç­¾è¯</h3><p><strong>WWDC2018</strong> 6æœˆ4å·åœ¨åœ£è·å¡ä¼šè®®ä¸­å¿ƒä¸¾åŠã€‚æ¯å¹´çš„WWDCå·®ä¸å¤šéƒ½æ˜¯åœ¨6æœˆåˆä¸¾åŠï¼Œä¸€èˆ¬æ˜¯3æœˆåˆå¼€å§‹é¢„çº¦æŠ¥åï¼Œ3æœˆåº•å°±èƒ½å¤ŸçŸ¥é“æœ‰æ²¡æœ‰æŠ½ä¸­é—¨ç¥¨ã€‚ä¸€ä¸‡å¤šäººæ°‘å¸çš„é—¨ç¥¨è¿˜èƒ½è®©å¤§å®¶å“„æŠ¢ï¼Œè‹¹æœçˆ¸çˆ¸ä¹ŸçœŸæ˜¯å‰å®³ã€‚  </p>
<p>å¦‚æœæŠ½ä¸­äº†é—¨ç¥¨ï¼Œå°±å¾—èµ¶ç´§å»åŠç­¾è¯äº†(æœ‰ç­¾è¯çš„å¤§ç¥è¯·ç»•è¡Œï¼Œè°¢è°¢)ã€‚ç¾å›½ç­¾è¯æ˜¯éœ€è¦æœ¬äººé¢è°ˆçš„ï¼Œå‰æœŸçš„ <code>DS-160</code> è¡¨æ ¼å¡«å†™éœ€è¦ä¸ªä¸€ä¸¤å¤©ï¼Œé¢„çº¦é¢ç­¾ä¸€èˆ¬åªèƒ½çº¦åˆ°ä¸€ä¸¤å‘¨ä¹‹åäº†ï¼Œè€Œä¸”åŠç†ç¾å›½ç­¾è¯å¯èƒ½ä¼šè¢« <strong>è¡Œæ”¿å®¡æ ¸</strong>ï¼Œä¸€æ—¦è¿›å…¥è¡Œæ”¿å®¡æ ¸æµç¨‹ï¼Œè‡³å°‘éœ€è¦ <strong>4å‘¨</strong> æ‰èƒ½æå®šç­¾è¯ã€‚è¿™æ ·ç®—ä¸‹æ¥ï¼Œæ—¶é—´å°±å·²ç»å¾ˆç´§å¼ äº†ã€‚å¦‚æœç›´æ¥é€šè¿‡é¢è¯•ï¼Œä¸€èˆ¬ä¸€å‘¨ä¹‹å†…å°±èƒ½æ‹¿åˆ°ç­¾è¯ã€‚æ‰€ä»¥ç­¾è¯å°½é‡æå‰åŠï¼Œç”šè‡³å¯ä»¥åœ¨æŠ¥åçš„æ—¶å€™å°±å¼€å§‹åŠï¼Œå³ä½¿æŠ½ä¸ä¸­ï¼Œä¹Ÿæ€»æœ‰æœºä¼šå»ç¾å›½ç©å„¿çš„ã€‚  </p>
<p>å¦‚æœæ²¡æŠ½ä¸­é—¨ç¥¨çš„è¯ï¼Œé¦–å…ˆæ­å–œä½ çœä¸‹äº†ä¸€ä¸‡å¤šå—é’±ğŸ˜‚ã€‚ ä¸è¿‡å®åœ¨æƒ³å»çš„è¯ï¼Œè¿˜æ˜¯æœ‰äº›åŠæ³•çš„ã€‚è‹¹æœä¸å…è®¸ç§ä¸‹è½¬è®©é—¨ç¥¨ï¼Œä½†æ˜¯åŒä¸€ä¸ªä¼ä¸šå¼€å‘è€…è´¦å·ä¸‹çš„å¼€å‘è€…æ˜¯å¯ä»¥äº’ç›¸è½¬è®©çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹çœ‹å…¬å¸æœ‰æ²¡æœ‰æŠ½åˆ°ç¥¨ä¸æƒ³å»çš„ï¼Œä¸€æ‰‹äº¤é’±ï¼Œä¸€æ‰‹äº¤é—¨ç¥¨ã€‚  </p>
<p>æœ¬äººä¸€ç›´è¿æ°”å¾ˆå¥½ï¼Œè¿™æ¬¡ä¹Ÿä¸å¿…å¤šè¯´ï¼Œè‚¯å®šæ˜¯â€¦æ²¡æŠ½ä¸­ï¼ä¸è¿‡å¹¸äºæœ‰åŒäº‹æ„¿æ„è½¬è®©ï¼Œäºæ˜¯ä¸€é¡¿æ“ä½œä¹‹åæ€»ç®—æ˜¯æå®šäº†é—¨ç¥¨ã€‚åœ¨æ­¤ç‰¹åˆ«æ„Ÿè°¢ç»™æˆ‘é—¨ç¥¨çš„åŒäº‹ä»¥åŠæœ¬äººleaderå¸®å¿™åè°ƒ, è®©æˆ‘è¿™æ¬¡WWDCä¹‹è¡Œå¾—ä»¥å®ç°ğŸ™ã€‚  </p>
<p>å»¶ç»­æœ¬äººè¿æ°”ä¸€ç›´å¾ˆå¥½çš„ç‰¹æ€§ï¼ŒåŠç†ç­¾è¯å½“ç„¶ä¹Ÿæ˜¯é¡ºåˆ©åœ°â€¦è¢«è¡Œæ”¿å®¡æ ¸äº†ï¼å…¶å®ï¼Œæ²¡æœ‰ç›´æ¥è¢«è¢«æ‹’ç»ï¼Œæˆ‘å·²ç»å¾ˆæ»¡è¶³äº†ï¼Œå› ä¸ºæœ¬äººæ²¡å‡ºè¿‡å›½ç™½æœ¬ä¸€ä¸ªï¼Œåä¸‹ä¹Ÿæ²¡æœ‰ä»»ä½•å›ºå®šèµ„äº§ï¼Œå»é¢ç­¾ä¹‹å‰è¿˜æ˜¯å¾ˆå¿å¿‘çš„ã€‚å½“ç„¶ï¼Œç¾ç­¾çš„é€šè¿‡ç‡è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œåªè¦ä¸å‡ºç‰¹æ®ŠçŠ¶å†µéƒ½ä¸ä¼šè¢«ç›´æ¥æ‹’ç»ï¼Œåªæ˜¯æœ‰äº›æƒ…å†µå®¹æ˜“è¢«è¡Œæ”¿å®¡æ ¸ï¼Œæ¯”å¦‚ä¸“ä¸šæˆ–è€…èŒä¸šæ¯”è¾ƒæ•æ„Ÿã€‚æˆ‘æœ¬ç§‘å­¦çš„æ˜¯äººå·¥æ™ºèƒ½ç›¸å…³ä¸“ä¸šï¼Œç¾å›½æœ€è¿‘åˆè°¨é˜²å¤§å®¶è¿‡å»å·æŠ€æœ¯ï¼Œæ‰€ä»¥æˆ‘è¿™ä¸ªä¸“ä¸šè¢«åˆ—ä¸ºäº†æ•æ„Ÿä¸“ä¸šï¼ˆå¥½åƒæœ‰ä¸ªæ•æ„Ÿä¸“ä¸šå’Œæ•æ„ŸèŒä¸šåˆ—è¡¨ï¼Œå¯ä»¥åœ¨ç½‘ä¸Šæ‰¾æ‰¾ï¼‰ã€‚å—¯â€¦ï¼Œä¸€å®šæ˜¯ä¸“ä¸šæ•æ„Ÿå¯¼è‡´çš„ï¼Œä¸€å®šä¸æ˜¯å› ä¸ºæˆ‘ç©·ğŸ¤«ã€‚  </p>
<p>æˆ‘èº«è¾¹åŠç†ç¾å›½ç­¾è¯çš„åŒäº‹ä¸­ï¼Œä¸€åŠæ˜¯ç›´æ¥é€šè¿‡äº†ï¼Œä¸€åŠæ˜¯è¡Œæ”¿å®¡æ ¸ä¹‹åä¹Ÿé¡ºåˆ©æ‹¿åˆ°äº†ç­¾è¯ï¼Œæ‰€ä»¥ä¸å¿…å¤ªæ‹…å¿ƒã€‚ä¸è¿‡ï¼Œè¢«è¡Œæ”¿å®¡æ ¸ä¹‹åï¼Œä¸€èˆ¬æ‹¿åˆ°çš„éƒ½æ˜¯ä¸€å¹´æœ‰æ•ˆæœŸçš„ç­¾è¯ï¼Œè€Œä¸æ˜¯åå¹´ç­¾ã€‚ä¹‹åå†æƒ³å»ï¼Œåªèƒ½å†èŠ±ä¸€åƒå¤šé‡æ–°åŠä¸‹ç­¾è¯ã€‚ä¸ç®¡æ€æ ·ï¼Œæ€»çš„æ¥è¯´é€šè¿‡ç‡è¿˜æ˜¯å¾ˆé«˜çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦æœ‰ä¿¡å¿ƒï¼Œé¢ç­¾çš„æ—¶å€™åƒä¸‡åˆ«ç´§å¼ ï¼Œè¦ä¸é¢ç­¾å®˜ä»¥ä¸ºä½ æƒ³æäº‹æƒ…å‘¢ï¼Œå¯èƒ½å°±ç»™ä½ æŒ‚äº†ã€‚<strong>æ¸©é¦¨æç¤º</strong>ï¼Œè¿›å…¥ç¾å›½ä½¿é¦†å‰ï¼Œéœ€è¦å°†æ‰€æœ‰ä¸ç›¸å…³ç‰©å“åŒ…æ‹¬æ‰‹æœºéƒ½å¯„å­˜èµ·æ¥ï¼Œå¯„å­˜æ—¶è¦å»æ—è¾¹çš„æ­£è§„çš„åº—é‡Œå¯„å­˜ï¼Œä¸€å®š <strong>ä¸è¦ç›¸ä¿¡ï¼ä¸è¦ç›¸ä¿¡ï¼ä¸è¦ç›¸ä¿¡ï¼</strong> è·¯è¾¹æå…¶çƒ­æƒ…æ‹‰ç€ä½ è®©ä½ å­˜åŒ…çš„äººï¼Œè¦ä¸ä½ ä¼šè¢«å‘ä¸€ç¬”é’±ã€‚ä¸è¦é—®æˆ‘æ˜¯æ€ä¹ˆçŸ¥é“çš„ã€‚ã€‚ã€‚  </p>
<h3 id="äº¤é€š"><a href="#äº¤é€š" class="headerlink" title="äº¤é€š"></a>äº¤é€š</h3><p>å»å‚åŠ WWDCçš„è¯ï¼Œå¤§éƒ¨åˆ†äººéƒ½ä¼šç›´é£åœ£è·å¡ <code>SJC</code> æˆ–è€…å…ˆé£æ—§é‡‘å±± <code>SFO</code> å†è½¬å¾€åœ£è·å¡ã€‚å¦‚æœæ—¶é—´å……è¶³ï¼Œå¯ä»¥å…ˆé£æ—§é‡‘å±±é€›ä¸€é€›ï¼Œç¨ä½œä¼‘æ•´å†å»åœ£è·å¡ã€‚ç¾å›½å…¬å…±äº¤é€šä¸æ˜¯å¾ˆå®Œå–„ï¼Œçº¿è·¯å°‘ä¸”é—´éš”æ—¶é—´è¾ƒé•¿ï¼Œå¦‚æœä¼šå¼€è½¦çš„è¯ï¼Œå¼€è½¦æ˜¯æœ€ä¼˜é€‰æ‹©ã€‚æˆ‘æ˜¯å¯¹è‡ªå·±è½¦æŠ€ä¸æ˜¯å¾ˆä¿¡ä»»ï¼Œæ€•åŠè·¯å‡ºç‚¹äº‹ä¸æ–¹ä¾¿ï¼Œå°±ç´¢æ€§å…¬äº¤å‡ºè¡Œäº†ã€‚  </p>
<p>ä»æ—§é‡‘å±±æœºåœºåˆ°å¸‚åŒºï¼Œå¯ä»¥ä¹˜å <code>BART</code>ï¼ˆBay Area Railway Transitï¼‰è½»è½¨ï¼Œå·®ä¸å¤šéœ€è¦ <strong>10ç¾å…ƒ</strong>ã€‚åœ¨ç¾å›½ä¹°å…¬äº¤ç¥¨ä¹Ÿå’Œå›½å†…ä¸å¤ªä¸€æ ·ï¼Œéœ€è¦å…ˆæŸ¥å¥½åˆ°æŸç«™å¤šå°‘é’±ï¼Œç„¶åæŠŠé’±æ”¾è¿›å»ï¼Œåœ¨æœºå™¨ä¸Šä¸€é¡¿åŠ åŠ å‡å‡ï¼Œç›´åˆ°æ­£å¥½ç­‰äºä½ çš„ç¥¨ä»·ï¼Œæœ€åç‚¹ä¸€ä¸‹è´­ä¹°ï¼Œç­‰å‡ºç¥¨å°±è¡Œäº†ã€‚ä¹Ÿä¸çŸ¥é“é’±é€‰å¤šäº†ä¼šæ˜¯å•¥åæœã€‚<code>BART</code> ä»¥åŠåé¢ä¼šæåˆ°çš„ <code>CalTrain</code> å’Œ <code>VTA</code>ï¼ˆValley Transportation Authorityï¼‰éƒ½æ˜¯ç±»ä¼¼çš„æ“ä½œï¼Œä½†æ˜¯è½¦ç¥¨è¿˜ä¸äº’é€šï¼Œæ¯æ¬¡éƒ½éœ€è¦å•ç‹¬è´­ä¹°ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>BARTè½¦å¢ï¼š</p>
<p><img src="https://wx4.sinaimg.cn/mw690/83e01499ly1fs1e3ap40rj21kw23vu0x.jpg" alt="img"></p>
<p>å¸‚å†…æ¸¸ç©çš„è¯å¯ä»¥å <code>Muni</code>ï¼ˆSan Francisco Municipal Railwayï¼‰å…¬äº¤è½¦ï¼Œè¿™ä¸ªç¥¨ä»·å„ç§å„æ ·æ¯”è¾ƒå¤æ‚ï¼Œä¸æ˜¯å¾ˆæ¸…æ¥šã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æš´èµ°ï¼Œé¡ºè·¯ä½“éªŒä¸‹é£åœŸäººæƒ…ã€‚ä¸å·®é’±çš„æˆ‘å½“ç„¶æ˜¯é€‰æ‹©äº†è¿™ç§æ–¹å¼ã€‚  </p>
<p>ä»æ—§é‡‘å±±åˆ°åœ£è·å¡å¯ä»¥å <code>CalTrain</code> ç«è½¦ï¼Œç¥¨ä»· <strong>9ç¾å…ƒ</strong> ï¼Œä¸€è·¯ä¸Šé£æ™¯è¿˜ä¸é”™ï¼Œä¼šç»è¿‡ <code>MountainView</code> å’Œ <code>æ–¯å¦ç¦å¤§å­¦</code> ç­‰åœ°ï¼Œå¯ä»¥ä½“éªŒä½“éªŒã€‚åªæ˜¯ä»æ—§é‡‘å±±å¸‚åŒºèµ°åˆ° <code>CalTrain</code> ç«è½¦ç«™ä¸­é—´è²Œä¼¼æœ‰ä¸€æ®µè´«æ°‘åŒºï¼Œçœ‹åˆ°å¾ˆå¤šä¹ä¸ï¼Œè¿˜æŒºå®³æ€•çš„ã€‚ç¾å›½è·¯ä¸Šä¹ä¸ä¸å°‘ï¼Œæ—§é‡‘å±±å°¤å…¶å¤šï¼Œæ‰€ä»¥æ™šä¸Šå°½é‡å°±åˆ«å‡ºé—¨äº†ã€‚  </p>
<p>CalTrainè½¦å¢ï¼š</p>
<p><img src="https://wx4.sinaimg.cn/mw690/83e01499ly1fs1e3akjkuj21kw23v1ky.jpg" alt="img">  </p>
<p>CalTrainè½¦ç¥¨ï¼š</p>
<p><img src="https://wx3.sinaimg.cn/mw690/83e01499ly1fs1egp42t6j21kw23vhdu.jpg" alt="img"></p>
<p>å¦‚æœæ˜¯å <code>CalTrain</code> ä»æ—§é‡‘å±±åˆ°åœ£è·å¡çš„è¯ï¼Œéœ€è¦ä» <strong>San Jose Ditridon</strong> ç«™ä¸‹è½¦ï¼Œç„¶åæ¢ä¹˜ <code>VTA</code> å°ç«è½¦ï¼Œåä¸¤ç«™å°±å¯ä»¥åˆ°WWDCä¼šè®®ä¸¾åŠåœ° <strong>San Jose Mcentry Convention Center</strong>ã€‚è¿™ä¸ªå°ç«è½¦æ˜¯å…¨ç¨‹ç»Ÿä¸€ä»·ï¼Œ<strong>2.5ç¾å…ƒ</strong>ã€‚  </p>
<p>VTAè½¦å¢ï¼š</p>
<p><img src="https://wx1.sinaimg.cn/mw690/83e01499ly1fs1e3a4yz8j21kw23vnpd.jpg" alt="img"></p>
<p>VTAè½¦ç¥¨ï¼š</p>
<p><img src="https://wx2.sinaimg.cn/mw690/83e01499ly1fs1egovrjlj21kw23vb2a.jpg" alt="img"></p>
<p>æ€»çš„æ¥è¯´ï¼Œä¹˜åå…¬å…±äº¤é€šç¥¨ä»·è¿˜æ˜¯ç›¸å¯¹ä¾¿å®œçš„ï¼Œåªæ˜¯ä¼šç•¥æœ‰äº›éº»çƒ¦ã€‚å¦‚æœä¸å¼€è½¦çš„è¯ï¼Œä»¥ä¸Šçš„æ‰€æœ‰è¡Œç¨‹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å‡ºç§Ÿè½¦æˆ–è€…Uberã€Lyftä»£æ›¿ï¼Œåªæ˜¯ä¼šæœ‰äº›å°è´µã€‚æˆ‘åœ¨åœ£è·å¡å¸‚å†…ä¸€èˆ¬éƒ½æ˜¯ç”¨Lyft, å‡ ä¹éšå«éšåˆ°ï¼Œå¾ˆæ–¹ä¾¿ã€‚3å…¬é‡Œå·¦å³çš„è·¯ç¨‹å·®ä¸å¤šéœ€è¦ <strong>10ç¾å…ƒ</strong>ï¼Œè¿˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚   </p>
<p>ä¸å†™äº†ï¼Œå°±ä»‹ç»åˆ°è¿™å„¿å§ï¼Œä¸ºäº†æŠ¢ä¸ªå¥½ä½ç½®ï¼Œå·²ç»æ’äº†å¿«3ä¸ªå°æ—¶çš„é˜Ÿäº†ï¼Œä½†æ˜¯å‰é¢å·²ç»æ˜¯äººå±±äººæµ·äº†ğŸ˜µã€‚è¿˜å‰©æœ€åä¸€å°æ—¶ï¼ŒWWDC 2018ï¼Œæˆ‘æ¥å•¦!  </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jerrychu.github.io/2018/04/07/OC_POP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JerryChu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JerryChu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/OC_POP/" itemprop="url">é¢å‘åè®®çš„ç¬¬ä¸‰æ–¹åˆ†äº«æ¨¡å—å®ç°ï¼ˆOCï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-07T16:40:44+08:00">2018-04-07</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ç¬¬ä¸‰æ–¹åˆ†äº«æ¨¡å—æ˜¯å„ç§å„æ ·çš„APPä¸­å¿…ä¸å¯å°‘çš„ä¸€ä¸ªæ¨¡å—ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯åˆ†äº«åˆ°å¾®ä¿¡å’ŒQQã€‚æœ¬æ–‡åŸºäº<code>é¢å‘åè®®ç¼–ç¨‹</code>ï¼ˆProtocol Oriented Programmingï¼ŒPOPï¼‰çš„æ€æƒ³ï¼Œä»‹ç»å¦‚ä½•å®ç°ä¸€ä¸ª <strong>ç®€å•çµæ´»</strong>ã€<strong>æ˜“äºæ‰©å±•</strong> çš„ç¬¬ä¸‰æ–¹åˆ†äº«æ¨¡å—ã€‚</p>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä»¥ä¸‹å‡ ç§åŠŸèƒ½ï¼š</p>
<ul>
<li>åˆ†äº«ä¸€æ®µæ–‡æœ¬</li>
<li>åˆ†äº«ä¸€å¼ å›¾ç‰‡</li>
<li>åˆ†äº«ä¸€ä¸ªç½‘é¡µ</li>
<li>â€¦â€¦</li>
</ul>
<p>æ–‡æœ¬åˆ†äº«å’Œå›¾ç‰‡åˆ†äº«æ¯”è¾ƒç®€å•ï¼Œéœ€è¦çš„æ•°æ®è¾ƒå°‘ã€‚ä¸‹é¢ä»¥å¾®ä¿¡çš„ç½‘é¡µåˆ†äº«ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨é¢å‘åè®®çš„æ€æƒ³å®ç°åˆ†äº«åŠŸèƒ½ã€‚</p>
<p>ç½‘é¡µåˆ†äº«ï¼Œä¹Ÿå°±æ˜¯åˆ†äº«äº†ä¸€ä¸ªç½‘é¡µï¼Œç”¨æˆ·åœ¨å¾®ä¿¡æˆ–QQä¸­ç‚¹å‡»åˆ†äº«cardï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œä¼šè·³è½¬åˆ°ä¸€ä¸ªç½‘é¡µå»ã€‚é€šå¸¸ï¼Œè¿™ä¸ªåˆ†äº«cardéœ€è¦å±•ç¤ºå†…å®¹æ ‡é¢˜ã€å†…å®¹æè¿°ã€ç¼©ç•¥å›¾ç­‰æ•°æ®ï¼Œå› æ­¤è¿›è¡Œç½‘é¡µåˆ†äº«æ—¶ï¼Œä¸€èˆ¬éœ€è¦ä¼ é€’ä»¥ä¸‹æ•°æ®ï¼š</p>
<p><img src="https://wx2.sinaimg.cn/mw690/83e01499gy1fq45p5hwlxj20mc08zmyo.jpg" alt="img"></p>
<ul>
<li>åˆ†äº«é¡µé¢çš„url</li>
<li>åˆ†äº«cardçš„æ ‡é¢˜</li>
<li>åˆ†äº«cardçš„æè¿°</li>
<li>åˆ†äº«cardçš„ç¼©ç•¥å›¾</li>
</ul>
<p>åœ¨å¾®ä¿¡åˆ†äº«SDKä¸­ï¼Œéœ€è¦ä½¿ç”¨åˆ°ä»¥ä¸‹ä¸¤ä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">WXMediaMessage</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">/** æ ‡é¢˜</span></span><br><span class="line"><span class="comment">* @note é•¿åº¦ä¸èƒ½è¶…è¿‡512å­—èŠ‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="built_in">NSString</span> *title;</span><br><span class="line"><span class="comment">/** æè¿°å†…å®¹</span></span><br><span class="line"><span class="comment">* @note é•¿åº¦ä¸èƒ½è¶…è¿‡1K</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="built_in">NSString</span> *description;</span><br><span class="line"><span class="comment">/** ç¼©ç•¥å›¾æ•°æ®</span></span><br><span class="line"><span class="comment">* @note å¤§å°ä¸èƒ½è¶…è¿‡32K</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="built_in">NSData</span>   *thumbData;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å¤šåª’ä½“æ•°æ®å¯¹è±¡ï¼Œå¯ä»¥ä¸ºWXImageObjectï¼ŒWXMusicObjectï¼ŒWXVideoObjectï¼ŒWXWebpageObjectç­‰ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="keyword">id</span>        mediaObject;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">WXWebpageObject</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">/** ç½‘é¡µçš„urlåœ°å€</span></span><br><span class="line"><span class="comment">* @note ä¸èƒ½ä¸ºç©ºä¸”é•¿åº¦ä¸èƒ½è¶…è¿‡10K</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="built_in">NSString</span> *webpageUrl;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code>çš„æ€æƒ³ï¼Œå‡è®¾è¦åˆ†äº«çš„æ•°æ®æ˜¯ä¸€ä¸ª<code>ShareModel</code>ï¼Œä½ å¾ˆå¿«å°±å®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ShareHelper</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareObjectToWeixin:(ShareModel *)model &#123;</span><br><span class="line">	WXWebpageObject *object = [WXWebpageObject object];</span><br><span class="line">	object.webpageUrl = model.url;</span><br><span class="line">	WXMediaMessage *message = [WXMediaMessage message];</span><br><span class="line">	message.title = model.title;</span><br><span class="line">	message.description = model.description;</span><br><span class="line">	message.thumbData = model.thumbnailData;</span><br><span class="line">	message.mediaObject = object;</span><br><span class="line">	</span><br><span class="line">	SendMessageToWXReq *req = [[SendMessageToWXReq alloc] init];</span><br><span class="line">	req.message = message;</span><br><span class="line">	[WXApi sendReq:req];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ä»£ç å¹¶ä¸å¤æ‚ï¼Œç”¨ç€ä¹Ÿæ–¹ä¾¿ã€‚æœ‰ä¸€å¤©ï¼Œäº§å“è¿‡æ¥å’Œä½ è¯´å¦ä¸€ä¸ªé¡µé¢ä¹Ÿè¦æ”¯æŒåˆ†äº«ã€‚ä½ çœ‹åˆ°å¦ä¸€ä¸ªé¡µé¢åˆ†äº«æ—¶ç”¨åˆ°çš„å¯¹è±¡æ˜¯<code>AnotherObject</code>ï¼Œäºæ˜¯ä½ é©¬ä¸Š<code>Ctrl+C</code>ã€<code>Ctrl+V</code>ï¼Œä¸åˆ°ä¸€åˆ†é’Ÿå°±æå®šäº†è¿™ä¸ªéœ€æ±‚ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ShareHelper</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareAnotherObjectToWeixin:(ShareModel *)model &#123;</span><br><span class="line">	WXWebpageObject *object = [WXWebpageObject object];</span><br><span class="line">	object.webpageUrl = model.url;</span><br><span class="line">	WXMediaMessage *message = [WXMediaMessage message];</span><br><span class="line">	message.title = model.title;</span><br><span class="line">	message.description = model.description;</span><br><span class="line">	message.thumbData = model.thumbnailData;</span><br><span class="line">	message.mediaObject = object;</span><br><span class="line">	</span><br><span class="line">	SendMessageToWXReq *req = [[SendMessageToWXReq alloc] init];</span><br><span class="line">	req.message = message;</span><br><span class="line">	[WXApi sendReq:req];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>æ­£å½“ä½ æ²‰æµ¸åœ¨å®ç°éœ€æ±‚çš„å–œæ‚¦ä¸­æ—¶ï¼Œäº§å“åˆè·‘è¿‡æ¥è¯´ï¼Œä½ è¿™ä¸ªåˆ†äº«åŠŸèƒ½è¿˜éœ€è¦æ”¯æŒä½¿ç”¨åŠ¨æ€ä¸‹å‘çš„æ•°æ®è¿›è¡Œåˆ†äº«ï¼Œä½ å‘ç°éœ€è¦æ”¯æŒåˆ†äº«è¯å…¸æ•°æ®ã€‚è™½ç„¶æœ‰äº›çº ç»“ï¼Œä½ è¿˜æ˜¯åœ¨<code>ShareHelper</code>ä¸­åˆåŠ äº†ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ShareHelper</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareDictionaryToWeixin:(<span class="built_in">NSDictionay</span> *)dict &#123;</span><br><span class="line">	WXWebpageObject *object = [WXWebpageObject object];</span><br><span class="line">	object.webpageUrl = dict[<span class="string">@"url"</span>];</span><br><span class="line">	WXMediaMessage *message = [WXMediaMessage message];</span><br><span class="line">	message.title = dict[<span class="string">@"title"</span>];</span><br><span class="line">	message.description = dict[<span class="string">@"description"</span>];</span><br><span class="line">	message.thumbData = dict[<span class="string">@"thumbnailData"</span>];</span><br><span class="line">	message.mediaObject = object;</span><br><span class="line">	</span><br><span class="line">	SendMessageToWXReq *req = [[SendMessageToWXReq alloc] init];</span><br><span class="line">	req.message = message;</span><br><span class="line">	[WXApi sendReq:req];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>å®ç°åŠŸèƒ½ä¹‹åï¼Œçœ‹ç€<code>ShareHelper.h</code>ï¼Œä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œä½ æœ‰ç‚¹æ–¹ï¼Œå› ä¸ºä½ æ„Ÿè§‰åˆ°éœ€è¦æä¾›çš„æ¥å£ä¼šè¶Šæ¥è¶Šå¤šã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ShareHelper</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">// åˆ†äº«ShareModelæ•°æ®</span></span><br><span class="line">+ (<span class="keyword">void</span>)shareObjectToWeixin:(ShareModel *)model;</span><br><span class="line"><span class="comment">// åˆ†äº«AnotherShareModelæ•°æ®</span></span><br><span class="line">+ (<span class="keyword">void</span>)shareAnotherObjectToWeixin:(ShareModel *)model;</span><br><span class="line"><span class="comment">// åˆ†äº«Dictionaryæ•°æ®</span></span><br><span class="line">+ (<span class="keyword">void</span>)shareDictionaryToWeixin:(<span class="built_in">NSDictionay</span> *)dict;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ¶‰åŠåˆ°å¤šç§ä¸åŒæ•°æ®çš„åˆ†äº«ï¼Œæœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„åŠæ³•èƒ½è®© <code>ShareHelper</code> åˆ«å†ç»§ç»­è†¨èƒ€ä¸‹å»å‘¢ï¼Ÿ<br>ä½¿ç”¨<code>é¢å‘åè®®ç¼–ç¨‹</code>çš„æ€æƒ³æ¥åˆ†æè¿™ä¸ªé—®é¢˜ï¼Œå°±ä¼šè±ç„¶å¼€æœ—äº†ã€‚<br>ä»åˆ†äº«æ¨¡å—æœ¬èº«æ¥è¯´ï¼Œå…¶å®å®ƒå¹¶ä¸éœ€è¦å…³æ³¨å¤–éƒ¨ä¼ é€’çš„æ˜¯<code>ShareModel</code>ã€<code>AnotherShareModel</code>è¿˜æ˜¯<code>NSDcitionary</code>ï¼Œå®ƒåªéœ€è¦ <strong>ç½‘é¡µurl</strong> ã€ <strong>æ ‡é¢˜</strong> ã€ <strong>ç®€ä»‹</strong> ã€ <strong>ç¼©ç•¥å›¾</strong> è¿™å››ä¸ªæ•°æ®ã€‚å› æ­¤ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆå¯¹è±¡ï¼Œåªè¦èƒ½æä¾›è¿™å››ä¸ªæ•°æ®ï¼Œåˆ†äº«æ¨¡å—å°±å¯ä»¥æŠŠå®ƒåˆ†äº«å‡ºå»ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">Shareable</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)shareTitle;</span><br><span class="line">- (<span class="built_in">NSString</span> *)shareDescription;</span><br><span class="line">- (<span class="built_in">NSString</span> *)shareUrl;</span><br><span class="line">- (<span class="built_in">NSData</span> *)shareThumbnailData;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>å®šä¹‰å¥½è¿™ä¸ªåè®®ä¹‹åï¼Œ<code>ShareHelper</code>ä¼šå˜å¾—éå¸¸ç®€å•ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ShareHelper</span> : <span class="title">NSObject</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareToWeixin:(<span class="keyword">id</span>&lt;Shareable&gt;)shareableModel;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ShareHelper</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareToWeixin:(<span class="keyword">id</span>&lt;Shareable&gt;)shareableModel &#123;</span><br><span class="line">	WXWebpageObject *object = [WXWebpageObject object];</span><br><span class="line">	object.webpageUrl = [shareableModel shareUrl];</span><br><span class="line">	WXMediaMessage *message = [WXMediaMessage message];</span><br><span class="line">	message.title = [shareableModel shareTitle];</span><br><span class="line">	message.description = [shareableModel shareDescription];</span><br><span class="line">	message.thumbData = [shareableModel shareThumbnailData];</span><br><span class="line">	message.mediaObject = object;</span><br><span class="line">	</span><br><span class="line">	SendMessageToWXReq *req = [[SendMessageToWXReq alloc] init];</span><br><span class="line">	req.message = message;</span><br><span class="line">	[WXApi sendReq:req];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œä½ å°±å¯ä»¥è‡ªè±ªåœ°å’ŒåŒäº‹ä»¬è¯´ï¼Œä»¥åä½ ä»¬ä¸è®ºæƒ³åˆ†äº«å•¥ï¼Œåªè¦å®ç°<code>Shareable</code>è¿™ä¸ªåè®®ï¼Œå°±èƒ½ç»™ä½ åˆ†äº«å‡ºå»ï¼</p>
<p>å¯¹äºæ–‡æœ¬åˆ†äº«å’Œå›¾ç‰‡åˆ†äº«ï¼Œä¹Ÿåªéœ€è¦æä¾›å¯¹åº”çš„åè®®å³å¯ï¼Œå®ç°äº†è¯¥åè®®çš„æ•°æ®ï¼Œå°±å¯ä»¥æŒ‰ç…§å¯¹åº”çš„å½¢å¼åˆ†äº«å‡ºå»ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">ShareableText</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)shareText;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">ShareableImage</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line">- (<span class="built_in">UIImage</span> *)shareImage;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ShareHelper</span> : <span class="title">NSObject</span></span></span><br><span class="line">+ (<span class="keyword">void</span>)shareTextToWeixin:(<span class="keyword">id</span>&lt;ShareableText&gt;)shareableModel;</span><br><span class="line">+ (<span class="keyword">void</span>)shareImageToWeixin:(<span class="keyword">id</span>&lt;ShareableImage&gt;)shareableModel;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ä¹ æƒ¯äº†<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code>ä¹‹åï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°å†™å‡ºçš„ä»£ç ä¸å¤Ÿé€šç”¨ã€ä¸å¥½æ‰©å±•ï¼Œå°¤å…¶æ˜¯å¯¹äºå·¥å…·ç±»çš„æ–¹æ³•ã€‚å¦‚æœèƒ½å°†<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code>å’Œ<code>é¢å‘åè®®ç¼–ç¨‹</code>ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œæ‰¬é•¿é¿çŸ­ï¼Œç»å¸¸å¯ä»¥è¾¾åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jerrychu.github.io/2018/03/25/MainQueue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JerryChu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JerryChu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/MainQueue/" itemprop="url">iOSä¸­çš„ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰ä¸ä¸»é˜Ÿåˆ—ï¼ˆMain Queueï¼‰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-25T19:11:20+08:00">2018-03-25</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>iOSç¼–ç¨‹ä¸­ï¼Œéœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­è¿›è¡Œæ“ä½œæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code>dispatch_async(dispatch_get_main_queue(), ^{ 
    // TODO 0:     
});
</code></pre><p>ä»”ç»†è§‚å¯Ÿè¿™éƒ¨åˆ†ä»£ç ï¼Œ <em>dispatch_get_main_queue()</em> å®é™…è·å–çš„æ˜¯ <strong>ä¸»é˜Ÿåˆ—ï¼ˆMain Queueï¼‰</strong> ã€‚æˆ‘ä»¬çœ‹<em>dispatch_get_main_queue()</em> çš„å®˜æ–¹æ–‡æ¡£ï¼š</p>
<blockquote>
<p>Returns the main queue. This queue is created automatically on behalf of the main thread before main() is called.</p>
</blockquote>
<p>è€Œå½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯ä¸æ˜¯ <strong>ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> æ—¶ï¼Œä¼šè¿™æ ·å†™ï¼š</p>
<pre><code>if ([NSThread isMainThread]) {
    // TODO 1:
}
</code></pre><p>é‚£ä¹ˆæˆ‘ä»¬ä¼šæƒ³åˆ°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š </p>
<p><strong>1. ä¸»çº¿ç¨‹å’Œä¸»é˜Ÿåˆ—åˆ°åº•æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</strong><br><strong>2. ä¸ºä»€ä¹ˆé€šè¿‡ <em>dispatch_get_main_queue()</em> å°±å¯ä»¥ç¡®ä¿åœ¨ä»£ç åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œäº†ï¼Ÿ</strong><br><strong>3. ä¸»çº¿ç¨‹å¯ä»¥æ‰§è¡Œéä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡å—ï¼Ÿ</strong> </p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸»é˜Ÿåˆ—æ˜¯ç³»ç»Ÿè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºçš„ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œå› æ­¤ä¸ç”¨æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºã€‚åœ¨æ¯ä¸ªåº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªä¸»é˜Ÿåˆ—ï¼Œä¸“é—¨è´Ÿè´£è°ƒåº¦ä¸»çº¿ç¨‹é‡Œçš„ä»»åŠ¡ï¼Œä¸å…è®¸å¼€è¾Ÿæ–°çš„çº¿ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨ä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ï¼Œå³ä½¿æ˜¯å¼‚æ­¥çš„ï¼Œæœ€ç»ˆä¹Ÿåªèƒ½åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œ</strong>ã€‚å› æ­¤ï¼Œå¼€å¤´çš„ç¬¬ä¸€æ®µä»£ç æ˜¯å¯ä»¥ä¿è¯åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œçš„ã€‚æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ä»£ç åšæµ‹è¯•ï¼š</p>
<pre><code>- (void)testMainThread {
    NSLog(@&quot;begin&quot;);
    for (int i = 0 ; i &lt; 10; i ++) {
        dispatch_async(dispatch_get_main_queue(), ^{
            NSLog(@&quot;current Thread: %@; Task: %@&quot;,[NSThread currentThread], @(i));
        });
    }
    NSLog(@&quot;end&quot;);
}
</code></pre><p>è¾“å‡ºä¸ºï¼š</p>
<pre><code>2016-08-28 21:22:18.384 Test[72358:1633765] begin
2016-08-28 21:22:18.384 Test[72358:1633765] end
2016-08-28 21:22:18.388 Test[72358:1633765] isMainThread: 1; Task: 0
2016-08-28 21:22:18.388 Test[72358:1633765] isMainThread: 1; Task: 1
2016-08-28 21:22:18.388 Test[72358:1633765] isMainThread: 1; Task: 2
2016-08-28 21:22:18.388 Test[72358:1633765] isMainThread: 1; Task: 3
2016-08-28 21:22:18.389 Test[72358:1633765] isMainThread: 1; Task: 4
</code></pre><p>ç”±äºblockå†…çš„ä»»åŠ¡æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œä¸»çº¿ç¨‹åœ¨å°†å½“å‰æ–¹æ³•ï¼ˆ<em>testMainThread</em> ï¼‰æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ‰ä¼šå»ç»§ç»­æ‰§è¡Œä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æŠŠå¼‚æ­¥ä»»åŠ¡æ¢æˆåŒæ­¥çš„å‡ºç°ä»€ä¹ˆç»“æœå‘¢ï¼Ÿ</p>
<pre><code>- (void)testMainThread {
    NSLog(@&quot;begin&quot;);
    for (int i = 0 ; i &lt; 10; i ++) {
        dispatch_sync(dispatch_get_main_queue(), ^{
            NSLog(@&quot;current Thread: %@; Task: %@&quot;,[NSThread currentThread], @(i));
        });
    }
    NSLog(@&quot;end&quot;);
}
</code></pre><p>è¾“å‡ºä¸ºï¼š</p>
<pre><code>2016-08-28 21:26:29.918 Test[72386:1636378] begin
</code></pre><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸»çº¿å±‚è¢«é˜»å¡äº†ã€‚è¿™ä¸ªä¹Ÿå¥½ç†è§£ï¼Œå› ä¸ºæ­¤æ—¶ä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼ŒåŒæ­¥ä»»åŠ¡å¿…éœ€è¢«ç«‹åˆ»æ‰§è¡Œã€‚ä½†åŒæ—¶ç”±äºä¸»çº¿ç¨‹é‡Œçš„<em>testMainThread</em> è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œä¸»çº¿ç¨‹æ²¡æ³•å»å¤„ç†ä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ï¼Œå¯¼è‡´ç¨‹åºæ­»é”ã€‚ä¹Ÿå°±æ˜¯è¯´<strong>ä¸»çº¿ç¨‹ç©ºé—²æ—¶æ‰ä¼šè°ƒåº¦é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ, å¦‚æœå½“å‰ä¸»çº¿ç¨‹æ­£åœ¨æœ‰ä»»åŠ¡æ‰§è¡Œï¼Œé‚£ä¹ˆæ— è®ºä¸»é˜Ÿåˆ—ä¸­å½“å‰è¢«æ·»åŠ äº†ä»€ä¹ˆä»»åŠ¡ï¼Œéƒ½ä¸ä¼šè¢«è°ƒåº¦ã€‚</strong> è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¹³å¸¸å†™ä»£ç éœ€è¦æ³¨æ„çš„ã€‚</p>
<p>ä¸»é˜Ÿåˆ—çš„ä»»åŠ¡ä¸€å®šåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹æœ€åä¸€ä¸ªé—®é¢˜ï¼š<em>ä¸»çº¿ç¨‹å¯ä»¥æ‰§è¡Œéä¸»é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡å—ï¼Ÿ</em>   æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç åšæµ‹è¯•ï¼š</p>
<pre><code> NSLog(@&quot;isMainThread: %@&quot;, @([NSThread isMainThread]));
dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    NSLog(@&quot;isMainThread: %@&quot;, @([NSThread isMainThread]));
});
</code></pre><p>åœ¨ä¸»çº¿ç¨‹ä¸­åŒæ­¥æ‰§è¡Œä¸€ä¸ªåå°é˜Ÿåˆ—ï¼ˆä½¿ç”¨_dispatch_get_global<em>queue</em>() æ–¹æ³•è·å–ç³»ç»Ÿåˆ›å»ºçš„å…¨å±€å¹¶å‘é˜Ÿåˆ—ï¼‰çš„ä»»åŠ¡ã€‚è¿è¡Œè¾“å‡ºä¸ºï¼š</p>
<pre><code>2016-08-28 21:55:26.262 Test[72533:1649394] isMainThread: 1
2016-08-28 21:55:26.263 Test[72533:1649394] isMainThread: 1
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªåå°é˜Ÿåˆ—çš„ä»»åŠ¡ä¹Ÿæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œçš„ã€‚ä¸‹é¢æ˜¯ä» <a href="http://blog.benjamin-encz.de/post/main-queue-vs-main-thread" target="_blank" rel="noopener">http://blog.benjamin-encz.de çš„ä¸€ç¯‡åšå®¢</a> æ‘˜æŠ„ä¸‹æ¥çš„ä¸€æ®µè¯´æ˜ï¼š</p>
<blockquote>
<p>While doing some research for this post I found <a href="https://libdispatch.macosforge.org/trac/changeset/156" target="_blank" rel="noopener">a commit to libdispatch that ensures that blocks dispatched with dispatch_sync are always executed on the current thread</a>. This means if you use dispatch_sync to dispatch a block from the main queue to a concurrent background queue, the code executing on the background queue will actually be executed on the main thread. While this might not be entirely intuitive, it makes sense: since the main queue needs to wait until the dispatched block completed, the main thread will be available to process blocks from queues other than the main queue.</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œä¸»çº¿ç¨‹æ˜¯å¯ä»¥æ‰§è¡Œä¸»é˜Ÿåˆ—ä¹‹å¤–å…¶ä»–é˜Ÿåˆ—çš„ä»»åŠ¡çš„ã€‚å³ä½¿<em>[NSThread mainThread]</em> åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯ä¸»çº¿ç¨‹ï¼Œä¹Ÿä¸èƒ½ä¿è¯å½“å‰æ‰§è¡Œçš„ä»»åŠ¡æ˜¯ä¸»é˜Ÿåˆ—çš„ä»»åŠ¡ï¼ˆç³»ç»Ÿå¹¶æ²¡æœ‰ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨ä¸»é˜Ÿåˆ—çš„APIï¼‰ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jerrychu.github.io/2018/03/25/CellModel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JerryChu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JerryChu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/CellModel/" itemprop="url">åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–ä¹‹cellæ•°æ®ç¼“å­˜</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-25T18:53:02+08:00">2018-03-25</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>é€šè¿‡å¯¹åˆ—è¡¨cellçš„æ•°æ®ï¼Œå¦‚cellçš„é«˜åº¦ã€subViewçš„å¸ƒå±€æ•°æ®ç­‰è¿›è¡Œç¼“å­˜ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œä»è€Œå®ç°å¯¹åˆ—è¡¨æ€§èƒ½çš„æ·±åº¦ä¼˜åŒ–ã€‚åŒæ—¶å¯ä»¥ç»“åˆMVVMä¸­ViewModelçš„æ¦‚å¿µï¼Œè¿›è¡Œcellæ•°æ®çš„å­˜å‚¨ï¼Œä½¿å¾—ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€‚</p>
</blockquote>
<p>åœ¨å®¢æˆ·ç«¯å¼€å‘ä¸­ï¼Œæœ€ç»å¸¸ä½¿ç”¨çš„å°±æ˜¯å„ç§åˆ—è¡¨äº†ï¼Œåˆ—è¡¨æ€§èƒ½çš„å¥½åï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†ä¸€ä¸ªåº”ç”¨çš„ä½¿ç”¨ä½“éªŒå¦‚ä½•ã€‚å…³äºå¦‚ä½•ä¼˜åŒ–åˆ—è¡¨æ€§èƒ½ï¼Œå¤§å®¶åŸºæœ¬éƒ½èƒ½è¯´å‡ºæ¥ä¸€äº›åŸºæœ¬æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>cellå¤ç”¨</li>
<li>åœ¨å­çº¿ç¨‹è¿›è¡Œè€—æ—¶æ“ä½œï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹</li>
<li>é¿å…ç¦»å±æ¸²æŸ“</li>
<li>å›¾ç‰‡é¢„å¤„ç†</li>
<li>å‡å°‘subViewæ•°é‡</li>
<li>ä¸è¦ç»™cellåŠ¨æ€æ·»åŠ subView</li>
<li>â€¦â€¦</li>
</ul>
<p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°ï¼Œå³ä½¿å·²ç»é‡‡ç”¨äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œåˆ—è¡¨çš„æ€§èƒ½è¿˜æ˜¯ä¸å°½å¦‚äººæ„ã€‚å¦‚ä½•èƒ½æ›´è¿›ä¸€æ­¥åœ°è¿›è¡Œåˆ—è¡¨æ€§èƒ½çš„ä¼˜åŒ–å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬ä»åˆ—è¡¨ä¸­ <strong>cellçš„æ•°æ®ç¼“å­˜</strong> æ–¹é¢æ¢è®¨ä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="cellé«˜åº¦ç¼“å­˜"><a href="#cellé«˜åº¦ç¼“å­˜" class="headerlink" title="cellé«˜åº¦ç¼“å­˜"></a>cellé«˜åº¦ç¼“å­˜</h3><p>å¯¹cellé«˜åº¦çš„ç¼“å­˜å·²ç»æ˜¯ä¸šç•Œæ¯”è¾ƒé€šç”¨çš„æ–¹æ¡ˆã€‚åˆ—è¡¨æ¯æ¬¡å±•ç°cellæ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œå›è°ƒæ–¹æ³•è·å–cellçš„é«˜åº¦ã€‚</p>
<ul>
<li>åˆ—è¡¨reloadæ—¶ï¼Œä¼šé‡æ–°è®¡ç®—æ‰€æœ‰cellçš„é«˜åº¦ã€‚</li>
<li>ç”±äºå­˜åœ¨cellçš„å¤ç”¨ï¼Œå½“ä»å¤ç”¨æ± ä¸­å–å‡ºcellæ—¶ï¼Œéœ€è¦é‡æ–°è®¡ç®—cellçš„é«˜åº¦ã€‚</li>
</ul>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¯æ¡æ•°æ®å¯¹åº”çš„cellé«˜åº¦å…¶å®æ˜¯ä¸€å®šçš„ï¼Œå½“ä¸€æ¡æ•°æ®çš„å¯¹åº”çš„cellé«˜åº¦è®¡ç®—å‡ºæ¥æ—¶ï¼Œå¯ä»¥å°†é«˜åº¦<code>å­˜åˆ°æŸä¸ªåœ°æ–¹</code>ï¼Œä¹‹åå†å±•ç¤ºè¿™æ¡æ•°æ®æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›å·²ç»è®¡ç®—å¥½çš„é«˜åº¦ã€‚å…³äºcellé«˜åº¦çš„å­˜å‚¨ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>å­˜å‚¨åœ¨<code>Dictionary</code>ä¸­<br>è¿™ç§æ–¹å¼éœ€è¦æ¯æ¡æ•°æ®éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œä½œä¸ºå­˜å‚¨é«˜åº¦çš„<code>key</code></li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// self.cellHeightDict = @&#123;"identifier_0" : "height_0", "identifier_1" : "height_1"&#125;;</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®çš„identifer</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.cellHeightDict[identifier]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.cellHeightDict[identifier].CGFloatValue;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// calculate height</span></span><br><span class="line">        <span class="keyword">self</span>.cellHeightDict[identifier] = @(height);</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>å­˜å‚¨åœ¨<code>Model</code>ä¸­<br>è¿™ç§æ–¹å¼å°†æ•°æ®è®¡ç®—å‡ºçš„é«˜åº¦ä½œä¸ºä¸€ä¸ªå±æ€§ï¼Œæ·»åŠ åˆ°æ•°æ®å¯¹è±¡ä¸­ã€‚ç›¸æ¯”äºç¬¬ä¸€ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ›´æ˜“äºç†è§£ï¼ŒåŒæ—¶æ›´åŠ å®‰å…¨ã€‚</li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Model</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> calculatedHeight;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> isHeightCalculated;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ---</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®ï¼ˆmodelï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (model.isHeightCalculated) &#123;</span><br><span class="line">        <span class="keyword">return</span> model.calculatedHeight;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// calculate height</span></span><br><span class="line">        model.isHeightCalculated = <span class="literal">YES</span>;</span><br><span class="line">        model.calculatedHeight = height;</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>cellé«˜åº¦çš„ç¼“å­˜å¾ˆå¥½åœ°ç»“å±€äº†é«˜åº¦å¤šæ¬¡é‡å¤è®¡ç®—å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚æ²¿ç€è¿™ç§æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°éœ€è¦è¢«ç¼“å­˜çš„å¹¶ä¸åªæ˜¯cellçš„é«˜åº¦ã€‚</p>
<h3 id="cellæ•°æ®ç¼“å­˜"><a href="#cellæ•°æ®ç¼“å­˜" class="headerlink" title="cellæ•°æ®ç¼“å­˜"></a>cellæ•°æ®ç¼“å­˜</h3><p>cellæ•°æ®ç¼“å­˜æ–¹æ¡ˆä¸åªå±€é™äºç¼“å­˜cellçš„é«˜åº¦ã€‚cellåŠå…¶subViewsçš„å¸ƒå±€æ•°æ®ï¼Œä»¥åŠå…¶ä»–éœ€è¦è¿›è¡Œå¤æ‚è®¡ç®—çš„æ•°æ®éƒ½å¯ä»¥ç¼“å­˜èµ·æ¥ã€‚<br>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°cellä¸­æœ‰è‹¥å¹²ä¸ªå‚ç›´æ’åˆ—çš„labelçš„æƒ…å†µï¼Œè€Œæ¯ä¸ªlabelçš„é«˜åº¦éƒ½éœ€è¦åŠ¨æ€è®¡ç®—ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cellä¸­æœ‰ä¸¤ä¸ªlabelå‚ç›´æ’åˆ—çš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—é«˜åº¦æ—¶ï¼Œéœ€è¦è®¡ç®—æ¯ä¸ªlabelçš„é«˜åº¦</span></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®ï¼ˆmodelï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (model.isHeightCalculated) &#123;</span><br><span class="line">        <span class="keyword">return</span> model.calculatedHeight;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">CGSize</span> size0 = [model.text0 sizeWithAttributes...];</span><br><span class="line">        <span class="built_in">CGSize</span> size1 = [model.text1 sizeWithAttributes...];</span><br><span class="line">        <span class="built_in">CGFloat</span> height = size0.height + size1.height;</span><br><span class="line">        model.isHeightCalculated = <span class="literal">YES</span>;</span><br><span class="line">        model.calculatedHeight = height;</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±•ç¤ºæ—¶ï¼Œå¯¹labelè¿›è¡Œå¸ƒå±€</span></span><br><span class="line">- (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGSize</span> size0 = [model.text0 sizeWithAttributes...];</span><br><span class="line">    label0.text = model.text0;</span><br><span class="line">    label0.frame = (<span class="built_in">CGRect</span>)&#123;<span class="number">0</span>, <span class="number">0</span>, size0.width, size0.height&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGSize</span> size1 = [model.text1 sizeWithAttributes...];</span><br><span class="line">    label1.text = model.text1;</span><br><span class="line">    label1.frame = (<span class="built_in">CGRect</span>)&#123;<span class="number">0</span>, <span class="built_in">CGRectGetMaxY</span>(label0.frame), size0.width, size0.height&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºcellçš„é«˜åº¦ï¼Œç”±äºå·²ç»è¿›è¡Œäº†ç¼“å­˜ï¼Œæ²¡æœ‰å‘ç”Ÿé‡å¤è®¡ç®—ã€‚ä½†æ˜¯å¯¹äºlableçš„sizeï¼Œæ¯æ¬¡å¯¹cellè¿›è¡Œå¸ƒå±€æ—¶ï¼Œéƒ½ä¼šé‡æ–°è®¡ç®—ä¸€éã€‚å®é™…ä¸Šï¼Œè¿™ç§çš„å­—ç¬¦ä¸²çš„å°ºå¯¸è®¡ç®—æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ã€‚å› æ­¤ï¼Œè¿™äº›æ•°æ®ä¹Ÿåº”è¯¥è¢«ç¼“å­˜èµ·æ¥ã€‚<br>é‚£ä¹ˆï¼Œè¿™äº›æ•°æ®è¯¥ä½¿ç”¨å“ªç§æ–¹å¼ç¼“å­˜èµ·æ¥å‘¢ï¼Ÿ</p>
<ul>
<li>ç”±äºåŒä¸€ä¸ªidentifierä¼šå¯¹åº”å¤šä¸ªæ•°æ®ï¼ˆcellé«˜åº¦ï¼Œlabelå°ºå¯¸ç­‰ï¼‰ï¼Œä¸é€‚åˆç›´æ¥ä½¿ç”¨è¯å…¸å­˜å‚¨ã€‚</li>
<li>æŠŠè¿™äº›æ•°æ®éƒ½ä½œä¸ºmodelçš„å±æ€§ï¼Œä¼šå¯¼è‡´modelè¿‡äºå¤æ‚ã€‚</li>
</ul>
<p>è¿™ç§é—®é¢˜å¾ˆé€‚åˆä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank" rel="noopener">MVVMæ¶æ„</a> æ¥è§£å†³ã€‚</p>
<h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><p>åœ¨<code>MVVM</code>ä¸­ï¼Œ<code>VM(ViewModel)</code>å­˜å‚¨ç€<code>V(View)</code>å¸ƒå±€æ‰€éœ€è¦çš„æ•°æ®ã€‚åŒæ ·ï¼Œå¯¹äºæ¯ä¸€ä¸ª<code>Cell</code>ï¼ˆå¯¹åº”äº<code>MVVM</code>ä¸­çš„<code>V(View)</code>ï¼‰ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„<code>ViewModel</code>æ¥å­˜å‚¨å®ƒå¸ƒå±€æ‰€éœ€è¦çš„æ•°æ®ã€‚</p>
<p>æ¯æ¡æ•°æ®ï¼ˆå¯¹åº”äº<code>MVVM</code>ä¸­çš„<code>M(Model)</code>ï¼‰åŒæ ·éœ€è¦ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºå­˜å‚¨å…¶å¯¹åº”çš„<code>ViewModel</code>ã€‚åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ViewModel</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewModel</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> height; <span class="comment">// cellé«˜åº¦</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> lable0Frame;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> lable1Frame;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œåˆ—è¡¨cellå¸ƒå±€çš„åŸºæœ¬çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// self.viewModelDict = @&#123;"identifier_0" : "viewModel_0", "identifier_1" : "viewModel_1"&#125;;</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®çš„identifer</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.viewModelDict[identifier]) &#123;</span><br><span class="line">        ViewModel *vm = <span class="keyword">self</span>.viewModelDict[identifier];</span><br><span class="line">        <span class="keyword">return</span> vm.heigth;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// calculate viewModel</span></span><br><span class="line">        ViewModel *vm = [ViewModel new];</span><br><span class="line">        <span class="comment">// calculate cellHeight</span></span><br><span class="line">        vm.height = height;</span><br><span class="line">        <span class="comment">// calculate label0's frame</span></span><br><span class="line">        vm.label0Frame = label0Frame;</span><br><span class="line">        <span class="comment">// calculate label1's frame</span></span><br><span class="line">        vm.label1Frame = label1Frame;</span><br><span class="line">        <span class="keyword">self</span>.viewModelDict[identifier] = vm;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</span><br><span class="line">    <span class="comment">// è·å–æ•°æ®çš„identifer</span></span><br><span class="line">    ViewModel *vm = <span class="keyword">self</span>.viewModelDict[identifier];</span><br><span class="line"></span><br><span class="line">    label0.text = model.text0;</span><br><span class="line">    label0.frame = vm.label0.frame;</span><br><span class="line"></span><br><span class="line">    label1.text = model.text1;</span><br><span class="line">    label1.frame = vm.label1.frame;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä¸Šé¢çš„ViewModelä¸­å¹¶ä¸ä»…å±€é™äºå­˜å‚¨heightã€frameç­‰æ•°æ®ï¼Œè¿˜å¯ä»¥å­˜å‚¨è®¸å¤šå¸ƒå±€æ—¶éœ€è¦çš„æ•°æ®ï¼Œæ¯”å¦‚labelå¯¹åº”çš„textæˆ–attributedTextç­‰ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œè¿™ç§ <strong>Cellæ•°æ®ç¼“å­˜ + MVVM</strong> çš„æ–¹å¼èƒ½å¤Ÿé¿å…å¾ˆå¤šä¸å¿…è¦çš„é‡å¤è®¡ç®—å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œå¾ˆå¥½åœ°æå‡åˆ—è¡¨çš„æ»šåŠ¨æµç•…æ€§ï¼›åŒæ—¶å°†è®¡ç®—å¸ƒå±€çš„ä»£ç å’Œå®é™…å¸ƒå±€UIçš„ä»£ç æ‹†åˆ†å¼€ï¼Œä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œå¹¶ä¸”ä¸ºä¹‹åçš„è¿›ä¸€æ­¥ä¼˜åŒ–æ‰“å¥½äº†åŸºç¡€ï¼ˆæ¯”å¦‚å°†å¸ƒå±€ä»£ç æ”¾åˆ°å­çº¿ç¨‹è®¡ç®—ï¼‰ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jerrychu.github.io/2018/01/21/OC_BOOL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JerryChu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JerryChu's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/21/OC_BOOL/" itemprop="url">æ¢ç´¢OCä¸­çš„BOOLç±»å‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-21T20:12:20+08:00">2018-01-21</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="OC-ä¸­çš„-BOOL"><a href="#OC-ä¸­çš„-BOOL" class="headerlink" title="OC ä¸­çš„ BOOL"></a>OC ä¸­çš„ BOOL</h3><p>Obejctive-C ä¸­çš„ <code>BOOL</code> ç±»å‹å®šä¹‰åœ¨ <code>&lt;objc.h&gt;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> (TARGET_OS_IPHONE &amp;&amp; __LP64__) || TARGET_OS_WATCH   </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OBJC_BOOL_IS_BOOL 1 </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">bool</span> BOOL; </span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OBJC_BOOL_IS_CHAR 1 </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">signed</span> <span class="keyword">char</span> BOOL; </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>å¯è§ï¼Œåœ¨32ä½ï¼ˆå‡†ç¡®çš„è¯´ï¼Œåº”è¯¥æ˜¯é64ä½ï¼‰æœºå™¨ä¸Šï¼ŒOCä¸­çš„ <code>BOOL</code> å…¶å®å¹¶ä¸æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„Cè¯­è¨€ä¸­çš„ <code>bool</code> ï¼Œè€Œæ˜¯ <code>signed char</code> ç±»å‹ï¼Œæ‰€ä»¥OCä¸­çš„ <code>BOOL</code> æ‰€èƒ½å­˜å‚¨çš„æ•°å€¼ä¸æ­¢æ˜¯ 0 å’Œ 1 ï¼Œæ˜¯ -128~127ã€‚</p>
<blockquote>
<p>C99æä¾›äº†_Boolç±»å‹ï¼Œ_Boolä¾ç„¶ä»æ˜¯æ•´æ•°ç±»å‹ï¼Œä½†åªèƒ½èµ‹å€¼ä¸º 0 æˆ– 1ï¼Œé 0 å€¼éƒ½ä¼šè¢«å­˜å‚¨ä¸º 1 ã€‚<br>C99è¿˜æä¾›äº†<code>&lt;stdbool.h&gt;</code>ï¼Œå…¶ä¸­å®šä¹‰äº† bool ä»£è¡¨_Boolï¼Œå¹¶ä¸”å®šä¹‰äº† true å’Œ falseï¼Œtrue ä»£è¡¨ 1ï¼Œfalse ä»£è¡¨ 0ã€‚</p>
</blockquote>
<p>ï¼ˆæ‰€ä»¥å‘æ˜ Objectiveï¼C è¯­è¨€é‚£ä¼šå„¿ï¼ŒCä¹Ÿè¿˜æ²¡æœ‰ bool ç±»å‹å‘¢ï¼‰<br>åŒæ—¶ï¼ŒOC ä¸­è¿˜æœ‰ <code>YES</code> å’Œ <code>NO</code> ä¸¤ä¸ªå®ï¼Œä¹Ÿæ˜¯åœ¨ <code>&lt;objc.h&gt;</code> ä¸­å®šä¹‰ï¼Œå…¶ä¸­ <code>YES</code> ä»£è¡¨ 1ï¼Œ<code>NO</code> ä»£è¡¨ 0ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __has_feature(objc_bool)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YES __objc_yes</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO  __objc_no</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YES ((BOOL)1)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO  ((BOOL)0)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆè€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µï¼ŒæŸä¸ªå‡½æ•°è¿”å›ä¸€ä¸ª <code>int</code> å€¼ï¼Œåœ¨ <code>check</code> å‡½æ•°ä¸­é€šè¿‡åˆ¤æ–­è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ¥è¿›è¡Œä¹‹åçš„æ“ä½œï¼Œé‚£ä¹ˆåœ¨32ä½çš„æœºå™¨ä¸­è¿è¡Œï¼Œ<code>check</code> å‡½æ•°ä¼šæ‰“å°å‡º <code>YES</code> è¿˜æ˜¯ <code>NO</code> å‘¢ï¼Ÿ</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">int</span>)returnValue &#123;</span><br><span class="line">	<span class="comment">// use 256 as an example</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">256</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)check &#123;</span><br><span class="line">	BOOL yesOrNo = (BOOL)[self returnValue];</span><br><span class="line">	<span class="keyword">if</span> (yesOrNo) &#123;</span><br><span class="line">		NSLog(@<span class="string">"YES"</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		NSLog(@<span class="string">"NO"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯èƒ½å¤§å®¶è§‰å¾—æƒ³éƒ½ä¸ç”¨æƒ³ï¼Œè‚¯å®šæ˜¯è¾“å‡º <code>YES</code>ã€‚é‚£ä¹ˆå®é™…ç»“æœå¯èƒ½ä¼šè®©ä½ æ¨éƒé—·ï¼Œå› ä¸ºè¾“å‡ºçš„æ˜¯ <code>NO</code>ã€‚åˆ°åº•æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ </p>
<p>è¿˜è®°å¾—æ–‡ç« ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬è¯´32ä½æœºå™¨ä¸‹ï¼ŒOCä¸­çš„ <code>BOOL</code> ç±»å‹å®é™…æ˜¯ <code>signed char</code>ï¼Œå¯ä»¥è¡¨ç¤º-128~127ã€‚åœ¨æ‰§è¡Œåˆ° <code>check</code> æ–¹æ³•çš„ç¬¬ä¸€å¥æ—¶ï¼Œç”±äº <code>[self returnValue]</code> è¿”å›çš„æ˜¯intç±»å‹çš„æ•°å€¼ï¼Œæ‰€ä»¥ä¼šè¿›è¡Œä»¥ä¸‹çš„ <code>int</code> -&gt; <code>signed charï¼ˆBOOLï¼‰</code>ç±»å‹è½¬æ¢ï¼š </p>
<pre><code>BOOL yesOrNo = (BOOL)256;
</code></pre><p>è€Œ <code>signed char</code> å ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯8 bitã€‚ 256è½¬æ¢æˆäºŒè¿›åˆ¶çš„æœ«16ä½æ˜¯ <code>00000001 00000000</code>ï¼Œå¼ºåˆ¶è½¬æ¢ä¸º <code>signed char</code> åï¼Œå–æœ«8ä½çš„å€¼ <code>00000000</code>ï¼Œä¹Ÿå°±æ˜¯0ã€‚åˆ°è¿™é‡Œï¼Œå¤§å®¶åº”è¯¥æ„è¯†åˆ°ï¼Œæ‰€æœ‰æœ«8ä½å…¨ä¸º0çš„æ•°å­—ï¼Œå¦‚512ã€1024â€¦ï¼Œåœ¨32ä½æœºå™¨ä¸Šè¢«å¼ºåˆ¶è½¬æ¢ä½ <code>BOOL</code> ç±»å‹æ—¶ï¼Œéƒ½ä¼šè¢«è½¬æ¢ä½ <code>NO(0)</code>ã€‚ä¹‹æ‰€ä»¥ä¼šå‘ç”Ÿè¿™ç§â€œç¥å¥‡çš„ç°è±¡â€ï¼Œæ˜¯å› ä¸º32ä½æœºå™¨ä¸Šçš„ <code>BOOL</code> ç±»å‹åœ¨â€œä½œç¥Ÿâ€ã€‚<br>æŒ‡é’ˆç±»å‹ä¹Ÿä¸€æ ·ã€‚ç»§ç»­æ‹¿ä¸Šé¢çš„ä»£ç ä¸¾ä¾‹ï¼Œè¿™æ¬¡æˆ‘ä»¬æŠŠ <code>returnValue</code> æ–¹æ³•æ”¹é€ ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (NSString *)returnValue &#123;</span><br><span class="line">	NSString *someString = @<span class="string">"xxx"</span>;</span><br><span class="line">	<span class="keyword">return</span> someString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ <code>someString</code> ä¸ºnilï¼Œé‚£ä¹ˆæ²¡æœ‰ç–‘é—® <code>check</code>æ–¹æ³•ä¼šè¾“å‡º NOã€‚å¦‚æœ <code>someString</code> ä¸ä¸ºnilå‘¢ï¼Ÿæˆ‘ä»¬å‡è®¾ <code>someString</code> çš„å†…å­˜åœ°å€ä¸º  <code>0xa3b2c100</code>,åœ¨å°† <code>returnValue</code> å¼ºåˆ¶è½¬æ¢ä¸º <code>yesOrNo</code> æ—¶ï¼Œä»ç„¶å–å†…å­˜åœ°å€çš„æœ«8ä½ï¼Œä¹Ÿå°±æ˜¯ <code>0x00</code>ï¼Œæ‰€ä»¥yesOrNoçš„å€¼å°±æ˜¯ <code>NO</code> å–½ã€‚ å½“ç„¶ï¼Œåªè¦åŸå­—ç¬¦ä¸²çš„å†…å­˜åœ°å€æœ«8ä½ä¸å…¨æ˜¯0ï¼Œæ¯”å¦‚<code>0xa3b2c1d0</code> ç­‰ï¼Œè½¬æ¢åyesOrNoçš„å€¼å°±ä¸ä¼šä¸º<code>NO</code>ã€‚</p>
<hr>
<p>ä¸Šé¢è¯´çš„éƒ½æ˜¯32ä½æœºå™¨ä¸Šæ‰ä¼šå‡ºç°çš„é—®é¢˜ï¼Œ64ä½æœºå™¨ä¸Šï¼ŒOCä¸­çš„BOOLæˆäº†çœŸæ­£Cè¯­è¨€ä¸­çš„boolï¼Œåªèƒ½å­˜å‚¨0å’Œ1ã€‚æ‰€ä»¥ï¼Œåœ¨è¿›è¡Œç±»ä¼¼çš„ç±»å‹è½¬æ¢æ—¶ï¼Œåªè¦å€¼ä¸ç­‰äº0ï¼Œå°±ä¼šè¢«åˆ¤ä¸º1ï¼Œä¸ä¼šå‡ºç°è¿™äº›é—®é¢˜ã€‚ä½†æ˜¯ç”±äºç›®å‰iOSä»ç„¶éœ€è¦æ”¯æŒ32ä½çš„æœºå™¨ï¼Œæ‰€ä»¥å¹³å¸¸å†™ä»£ç æ—¶è¿˜å¾—å¤šå¤šæ³¨æ„ã€‚  </p>
<p>ç›®å‰è¿˜èƒ½è§åˆ°çš„32ä½çš„iOSè®¾å¤‡æœ‰ï¼šiPhone4s(A5)ã€iPhone5(A6)ã€iPhone5c(A6)ã€iPod Touch5(A5)ã€iPad3(A5X)ã€iPad4ï¼ˆA6X)  </p>
<hr>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><ul>
<li><a href="https://www.bignerdranch.com/blog/bools-sharp-corners/" target="_blank" rel="noopener">https://www.bignerdranch.com/blog/bools-sharp-corners/</a>  </li>
<li><a href="https://en.wikipedia.org/wiki/List_of_iOS_devices" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/List_of_iOS_devices</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">JerryChu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JerryChu</span>

  

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.0.2</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.2"></script>



  



	





  





  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    






  





  

  

  

  


  
  

  

  

  

  

</body>
</html>
