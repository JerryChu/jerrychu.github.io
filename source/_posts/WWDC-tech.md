---
title: WWDC笔记（技术篇）
date: 2018-06-05 23:06:57
tags:
- iOS
- WWDC
---

不出所料，__iOS 12__ 果然没有什么大改动出现，所有支持 __iOS 11__ 的设备都可以升级到 __iOS 12__，称之为 __iOS 11__ 的 _bugfix_ 版本也不为过。对开发者来说，这未必不是一件好事，毕竟 __iOS 11__ 的bug的确有点多。同时，更少的改动意味着更少的适配工作，大家可以安心的写bug了。  

不过，作为一次大版本更新，__iOS 12__ 还是有一些特性可以说一说的。

- __明显的性能提升__   
大会keynote上写着APP启动时间提升了 __(up to)40%__。虽然有个 _up to_，但是如果真能有这个级别的提升，那还真挺令人激动的，毕竟大家一直在探索各种降低启动时间的方法。从另一个方面想，__iOS 11__ 到底是有多慢...

![img](https://wx4.sinaimg.cn/mw690/83e01499ly1fs2iawktbwj209905etag.jpg)

- __Siri Shortcut__  
使用 __siri__ 完成一系列预定事件，标志着Siri终于支持`workflow`，看着是个不错的功能。但是明显能感觉到苹果在推进 __Siri__ 的路上走得并不快。而且从之前接入`SiriKit`的经验来看，预计会有不少坑，比如识别的语法太固定，识别的场景太狭窄，而且之前接入`SiriKit`之后出现各种各样的审核问题和奇怪的崩溃问题让人很心累。希望这一次 __Siri__ 可以做得更好。

- __ARKit__  
今年仍然花了不少时间来讲`ARKit`，并且发布了`ARKit 2`。`ARKit 2`开始支持再拍照时测量尺寸了，这是个挺好用也好玩的功能。只不过 [MeasureKit](https://measurekit.com/) 的开发者可能就没时间这么想了，看来是得赶紧开发点新东西了。同时`ARKit 2`也支持了在拍摄视频或者视频聊天时实时在头上盖一个（想不到用啥形容词了...）动物，可以实时模拟你的表情。不过既然`ARemoji`都已经支持模拟真人了，所以被[吐槽一下]((https://twitter.com/developar/status/1003959954833924096))也就很正常了。

- __Grouped Notifications__   
系统通知终于支持分类了，再也不用被微信通知刷屏了。系统通知的分类会按照APP设置的通知分类来进行组织，属于一类的通知在展示时会叠加在一起，点击之后可以展开全部，并且支持一些自定义的文案。这部分功能需要开发者进行些适配工作（设置指定的属性等），如果不进行适配的话，APP的所有通知默认全部叠加在一起，这很显然是大家不希望看到的。稍后会补充个demo进来。

- __Photos Share__  
 在 __iOS 12__ 中，相册会自动识别出照片中的联系人并推荐你将此照片分享给该联系人。不仅如此，你的朋友在收到你分享过来的照片之后，系统也会推荐TA礼尚往来地分享一些包含你的照片给你（如果找不到就尴尬了）。这一切都是基于图像识别实现的，所以首先，你得在通讯录里加上你朋友的照片。

- __Screen Time__   
__iOS 12__ 在设置页面新增了一个`Screen Time（屏幕时间）`选项，在这里你可以看到所有APP的使用时长等信息。这下终于能知道时间都去哪儿了。更爆炸的是，这个页面还有一个`App Limits（应用限制）`功能，可以限制每个APP的使用时长，时间到了之后直接就把应用锁住不让用了，很适合作为一款防沉迷神器。这简直是熊孩子的噩梦，熊孩子家长的福音啊。

![img](https://wx2.sinaimg.cn/mw690/83e01499ly1fs2hg8z30wj20va1von43.jpg)

- __Group Facetime__   
__FaceTime__ 支持群聊啦！咦，这好像不是啥新功能，微信不早就可以了吗？！最多支持 __32__ 人同时在线群聊哦！呵呵，想象下32个人在一个聊天室里是啥场景，就算手机不爆炸，人也该爆炸了。上限不是20，也不是50，是整整 __32__，看来苹果工程师还是有情怀的。

- __IAP__   
刚听说微信公众号的赞赏功能又要上线了，苹果还真是做出了让步啊！不过对开发者和测试同学来说，有个更好的消息，sandbox测试账号与实际账号分离出来了，会支持设置一个单独的测试账号，再也不用在手机上来回切换啦！

除此之外，__mac OS__ 还有几个比较重要的改动。__mac OS__ 延续了名字很难读的特性，__Mojavi__，也不知道是啥，但是看着屏幕背景图还挺好看。__mac OS Mojavi__ 支持夜间模式了！体验了下，显得还挺高端的。但是 iOS 目前不支持，所以这部分的适配工作也可以先挂起了🤓。  

最后要说一下Xcode，今年 __Xcode__ 有不少新特性加入，个人认为应该是这次 WWDC 最大的亮点了。__Xcode 10__ 进一步增加了对`gitlab`和`gitbucket`的支持，同时会自动拉取代码，并在可能出现冲突时提前进行提示。同时 __Xcode 10__ 支持并行跑单元测试，在代码覆盖率检测等工具上也都有很多的提升，逐渐要长成一个代码编辑器应该有的样子了。。同时 __Xcode__ 也支持了夜间模式，让大家在夜深人静的时候能够更舒服地挖坑，苹果真的是很了解码农们的需求啊！

到现在设备都还没挂过，从beta版本的使用情况来看，__iOS 12__ 确实还挺稳定的。希望苹果能越来越好！  

基本也就这些了，更多更详细的内容，大家可以看 __WWDC__ 的视频。欢迎交流讨论！